2019-11-03 14:37:34.389 ERROR this is a simple error log statement/entry 
2019-11-03 14:38:09.801 ERROR Wrong ID value. ID 5dbc1fb69c5e6e5cccccbf3a2278 is in a wrong format.
{"statusCode":400,"status":"fail","isOperational":false}
Error: Wrong ID value. ID 5dbc1fb69c5e6e5cccccbf3a2278 is in a wrong format.
    at exports.validateId (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/tourController.js:14:7)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:354:14)
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:365:14)
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:410:3)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12) 
2019-11-03 14:39:05.608 ERROR Wrong ID value. ID 5dbc1fb69c5e6e5cccccbf3a2278 is in a wrong format. 
2019-11-03 16:19:33.070 ERROR Tour validation failed: price: A tour must have a price, difficulty: Difficulty is either: easy, medium, difficult, or rough. 
2019-11-03 16:45:36.065 ERROR  
2019-11-03 17:10:13.338 ERROR Tour validation failed: name: A tour name must have more or equal than 10 characters 
2019-11-03 17:10:45.841 ERROR Tour validation failed: name: A tour name must have more or equal than 10 characters 
2019-11-03 17:15:49.599 ERROR  
2019-11-03 18:53:21.080 ERROR URI does not have hostname, domain name and tld 
2019-11-03 18:54:05.502 ERROR Something went wrong while connecting to the DB. Error: MongoParseError: URI does not have hostname, domain name and tld 
2019-11-03 18:56:20.540 ERROR Something went wrong while connecting to the DB. Error: MongoParseError: URI does not have hostname, domain name and tld 
2019-11-03 18:56:48.278 ERROR UNCAUGHT EXCEPTION!, gracefully shutting down the server. Error: ReferenceError: xx is not defined. 
2019-11-03 18:57:25.185 ERROR UNCAUGHT EXCEPTION!, gracefully shutting down the server. Error: ReferenceError: xx is not defined.xx is not defined
{}
ReferenceError: xx is not defined
    at Object.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/server.js:72:13)
    at Module._compile (internal/modules/cjs/loader.js:776:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:829:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3) 
2019-11-03 18:58:04.168 ERROR UNCAUGHT EXCEPTION!, gracefully shutting down the server. Error: ReferenceError: xx is not defined.Full error object: xx is not defined
{}
ReferenceError: xx is not defined
    at Object.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/server.js:72:13)
    at Module._compile (internal/modules/cjs/loader.js:776:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:787:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Function.Module.runMain (internal/modules/cjs/loader.js:829:12)
    at startup (internal/bootstrap/node.js:283:19)
    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3) 
2019-11-03 18:58:47.322 ERROR UNCAUGHT EXCEPTION!, gracefully shutting down the server. Error: ReferenceError: xx is not defined. 
2019-11-03 18:58:58.398 ERROR UNCAUGHT EXCEPTION!, gracefully shutting down the server. Error: ReferenceError: xx is not defined. 
2019-11-03 18:59:14.746 ERROR UNCAUGHT EXCEPTION!, gracefully shutting down the server. Error: ReferenceError: xx is not defined. 
2019-11-03 19:12:07.261 ERROR  
2019-11-20 20:38:40.249 ERROR invalid signature 
2019-11-20 20:39:29.748 ERROR invalid signature 
2019-11-21 08:57:40.769 ERROR jwt expired 
2019-11-22 08:56:27.111 ERROR UNHANDLED REJECTION!, gracefully shutting down the server. Error: Error: time() function implemented improperly. 
      As an argument to this function, make sure to specify the amount, space, and a measurement.
      For example: time(10 secons); time(1 minute); time(5 days) etc;
      Allowed measurements are: second(s), minute(s), hour(s), day(s), week(s), year(s)
      . 
2019-11-22 08:56:27.133 ERROR  
2019-11-22 08:58:36.528 ERROR UNHANDLED REJECTION!, gracefully shutting down the server. Error: Error: time() function implemented improperly. 
      As an argument to this function, make sure to specify the amount, space, and a measurement.
      For example: time(10 secons); time(1 minute); time(5 days) etc;
      Allowed measurements are: second(s), minute(s), hour(s), day(s), week(s), year(s)
      . 
2019-11-22 08:58:36.544 ERROR  
2019-11-22 09:06:13.182 ERROR UNHANDLED REJECTION!, gracefully shutting down the server. Error: Error: time() function implemented improperly. 
      As an argument to this function, make sure to specify the amount, space, and a measurement.
      For example: time(10 secons); time(1 minute); time(5 days) etc;
      Allowed measurements are: second(s), minute(s), hour(s), day(s), week(s), year(s)
      . 
2019-11-22 09:06:13.218 ERROR  
2019-11-22 09:06:32.098 ERROR  
2019-11-22 09:07:27.784 ERROR  
2019-11-22 09:08:05.462 ERROR  
2019-11-22 09:08:36.044 ERROR  
2019-11-22 09:09:57.239 ERROR  
2019-11-22 09:11:03.607 ERROR  
2019-11-22 09:13:02.153 ERROR  
2019-11-22 09:14:35.800 ERROR  
2019-11-22 09:15:34.366 ERROR  
2019-11-22 09:19:08.504 ERROR  
2019-11-22 09:22:12.722 ERROR  
2019-11-22 09:22:38.790 ERROR  
2019-11-22 09:23:27.986 ERROR  
2019-11-22 09:24:32.143 ERROR  
2019-11-22 09:27:18.201 ERROR  
2019-11-22 09:27:49.318 ERROR  
2019-11-22 09:28:32.332 ERROR  
2019-11-22 09:29:58.564 ERROR  
2019-11-22 09:30:50.659 ERROR  
2019-11-22 09:31:08.542 ERROR {
  "statusCode": 500,
  "status": "error"
} 
2019-11-22 09:33:12.272 ERROR resetUrlc is not defined
{"statusCode":500,"status":"error"}
ReferenceError: resetUrlc is not defined
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/forgotPassword.js:29:126)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-22 09:34:13.877 ERROR There was an error sending the email. Try again later.
{"statusCode":500,"status":"error","isOperational":true,"errorCode":"FP-02"}
Error: There was an error sending the email. Try again later.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/forgotPassword.js:49:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-22 09:35:34.639 ERROR There was an error sending the email. Try again later.
{"statusCode":500,"status":"error","isOperational":true,"errorCode":"FP-02"}
Error: There was an error sending the email. Try again later.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/forgotPassword.js:50:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-22 09:36:54.663 ERROR There was an error sending the email. Try again later.
{"statusCode":500,"status":"error","isOperational":true,"errorCode":"FP-02"}
Error: There was an error sending the email. Try again later.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/forgotPassword.js:50:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-22 09:38:26.696 ERROR There was an error sending the email. Try again later.
{"statusCode":500,"status":"error","isOperational":true,"errorCode":"FP-02"}
Error: There was an error sending the email. Try again later.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/forgotPassword.js:50:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-22 09:43:43.534 ERROR No recipients defined
{"code":"EENVELOPE","command":"API"}
Error: No recipients defined
    at SMTPConnection._formatError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:771:19)
    at SMTPConnection._setEnvelope (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:982:34)
    at SMTPConnection.send (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:609:14)
    at sendMessage (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-transport/index.js:227:28)
    at connection.login.err (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-transport/index.js:285:25)
    at SMTPConnection._actionAUTHComplete (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:1519:9)
    at SMTPConnection._responseActions.push.str (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:544:26)
    at SMTPConnection._processResponse (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:929:20)
    at SMTPConnection._onData (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:736:14)
    at TLSSocket.SMTPConnection._onSocketData.chunk (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:189:44)
    at TLSSocket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:288:12)
    at readableAddChunk (_stream_readable.js:269:11)
    at TLSSocket.Readable.push (_stream_readable.js:224:10)
    at TLSWrap.onStreamRead [as onread] (internal/stream_base_commons.js:94:17) 
2019-11-22 09:43:43.572 ERROR There was an error sending the email. Try again later.
{"statusCode":500,"status":"error","isOperational":true,"errorCode":"FP-02"}
Error: There was an error sending the email. Try again later.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/forgotPassword.js:50:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-22 09:45:59.368 ERROR No recipients defined
{"code":"EENVELOPE","command":"API"}
Error: No recipients defined
    at SMTPConnection._formatError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:771:19)
    at SMTPConnection._setEnvelope (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:982:34)
    at SMTPConnection.send (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:609:14)
    at sendMessage (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-transport/index.js:227:28)
    at connection.login.err (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-transport/index.js:285:25)
    at SMTPConnection._actionAUTHComplete (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:1519:9)
    at SMTPConnection._responseActions.push.str (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:544:26)
    at SMTPConnection._processResponse (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:929:20)
    at SMTPConnection._onData (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:736:14)
    at TLSSocket.SMTPConnection._onSocketData.chunk (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:189:44)
    at TLSSocket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:288:12)
    at readableAddChunk (_stream_readable.js:269:11)
    at TLSSocket.Readable.push (_stream_readable.js:224:10)
    at TLSWrap.onStreamRead [as onread] (internal/stream_base_commons.js:94:17) 
2019-11-22 09:45:59.458 ERROR There was an error sending the email. Try again later.
{"statusCode":500,"status":"error","isOperational":true,"errorCode":"FP-02"}
Error: There was an error sending the email. Try again later.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/forgotPassword.js:49:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-22 09:51:22.827 ERROR No recipients defined
{"code":"EENVELOPE","command":"API"}
Error: No recipients defined
    at SMTPConnection._formatError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:771:19)
    at SMTPConnection._setEnvelope (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:982:34)
    at SMTPConnection.send (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:609:14)
    at sendMessage (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-transport/index.js:227:28)
    at connection.login.err (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-transport/index.js:285:25)
    at SMTPConnection._actionAUTHComplete (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:1519:9)
    at SMTPConnection._responseActions.push.str (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:544:26)
    at SMTPConnection._processResponse (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:929:20)
    at SMTPConnection._onData (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:736:14)
    at TLSSocket.SMTPConnection._onSocketData.chunk (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/nodemailer/lib/smtp-connection/index.js:189:44)
    at TLSSocket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:288:12)
    at readableAddChunk (_stream_readable.js:269:11)
    at TLSSocket.Readable.push (_stream_readable.js:224:10)
    at TLSWrap.onStreamRead [as onread] (internal/stream_base_commons.js:94:17) 
2019-11-22 09:51:22.877 ERROR There was an error sending the email. Try again later.
{"statusCode":500,"status":"error","isOperational":true,"errorCode":"FP-02"}
Error: There was an error sending the email. Try again later.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/forgotPassword.js:48:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-22 09:58:36.084 ERROR AppError is not defined
{"statusCode":500,"status":"error"}
ReferenceError: AppError is not defined
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:28:20)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14) 
2019-11-22 10:01:18.412 ERROR Cat't find /api/v1/users/resetPassword/e67b7b83dff52fef8356a46309f66290b2086d07b3e82cbe33e2051b9aba1722 on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/users/resetPassword/e67b7b83dff52fef8356a46309f66290b2086d07b3e82cbe33e2051b9aba1722 on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:29:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14) 
2019-11-22 10:20:43.265 ERROR (intermediate value).toLocateDateString is not a function
{"statusCode":500,"status":"error"}
TypeError: (intermediate value).toLocateDateString is not a function
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/resetPassword.js:14:90)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:354:14)
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:365:14)
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:410:3)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7 
2019-11-23 10:50:02.785 ERROR Cannot read property 'passwordResetExpires' of null
{"statusCode":500,"status":"error"}
TypeError: Cannot read property 'passwordResetExpires' of null
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/resetPassword.js:11:12)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 10:52:07.924 ERROR Cannot read property 'passwordResetExpires' of null
{"statusCode":500,"status":"error"}
TypeError: Cannot read property 'passwordResetExpires' of null
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/resetPassword.js:11:12)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 10:53:09.150 ERROR Cannot read property 'passwordResetExpires' of null
{"statusCode":500,"status":"error"}
TypeError: Cannot read property 'passwordResetExpires' of null
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/resetPassword.js:13:12)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 10:54:50.161 ERROR Cannot read property 'passwordResetExpires' of null
{"statusCode":500,"status":"error"}
TypeError: Cannot read property 'passwordResetExpires' of null
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/resetPassword.js:13:12)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 11:23:04.022 ERROR Something went wrong - your reset link has probably expired. Please, try resetting your password again.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"RP-01"}
Error: Something went wrong - your reset link has probably expired. Please, try resetting your password again.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/resetPassword.js:11:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 13:03:14.356 ERROR Token is invalid or has expired.
{"statusCode":400,"status":"fail","isOperational":true,"errorCode":"RP-01"}
Error: Token is invalid or has expired.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/resetPassword.js:21:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 13:10:19.070 ERROR Token is invalid or has expired.
{"statusCode":400,"status":"fail","isOperational":true,"errorCode":"RP-01"}
Error: Token is invalid or has expired.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/resetPassword.js:21:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 13:10:54.467 ERROR Token is invalid or has expired.
{"statusCode":400,"status":"fail","isOperational":true,"errorCode":"RP-01"}
Error: Token is invalid or has expired.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/auth/resetPassword.js:21:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 13:11:39.870 ERROR isModified is not defined
{"statusCode":500,"status":"error"}
ReferenceError: isModified is not defined
    at model.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/models/userModel.js:26:3)
    at callMiddlewareFunction (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:482:23)
    at model.next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:58:7)
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:106:10)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38)
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-23 13:12:44.867 ERROR time() function implemented improperly. 
      As an argument to this function, make sure to specify the amount, space, and a measurement.
      For example: time(10 secons); time(1 minute); time(5 days) etc;
      Allowed measurements are: second(s), minute(s), hour(s), day(s), week(s), year(s)
      
{"statusCode":500,"status":"error"}
Error: time() function implemented improperly. 
      As an argument to this function, make sure to specify the amount, space, and a measurement.
      For example: time(10 secons); time(1 minute); time(5 days) etc;
      Allowed measurements are: second(s), minute(s), hour(s), day(s), week(s), year(s)
      
    at toMilliseconds (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/toMilliseconds.js:22:13)
    at model.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/models/userModel.js:29:41)
    at callMiddlewareFunction (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:482:23)
    at model.next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:58:7)
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:106:10)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38)
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-23 13:37:54.742 ERROR No user with that email found
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: No user with that email found
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/updatePassword.js:12:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 13:40:27.305 ERROR Please provide email and passwords
{"statusCode":400,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Please provide email and passwords
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/updatePassword.js:9:17)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-23 13:51:46.508 ERROR Please provide email and passwords
{"statusCode":400,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Please provide email and passwords
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/updatePassword.js:9:17)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-23 13:52:46.547 ERROR jwt is not defined
{"statusCode":500,"status":"error"}
ReferenceError: jwt is not defined
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/updatePassword.js:29:17) 
2019-11-23 13:53:12.247 ERROR Incorrect email or password
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Incorrect email or password
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/updatePassword.js:21:17) 
2019-11-23 17:54:55.082 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-23 17:55:23.164 ERROR createSendToken is not a function
{"statusCode":500,"status":"error"}
TypeError: createSendToken is not a function
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:23:3) 
2019-11-23 17:56:56.260 ERROR createSendToken is not a function
{"statusCode":500,"status":"error"}
TypeError: createSendToken is not a function
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:23:3) 
2019-11-23 17:57:30.451 ERROR createSendToken is not a function
{"statusCode":500,"status":"error"}
TypeError: createSendToken is not a function
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:23:3) 
2019-11-23 18:00:31.840 ERROR createSendToken is not a function
{"statusCode":500,"status":"error"}
TypeError: createSendToken is not a function
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:23:3) 
2019-11-23 18:01:09.226 ERROR createSendToken is not a function
{"statusCode":500,"status":"error"}
TypeError: createSendToken is not a function
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:23:3) 
2019-11-23 18:06:57.385 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-23 18:07:52.502 ERROR createSendToken is not a function
{"statusCode":500,"status":"error"}
TypeError: createSendToken is not a function
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/updatePassword.js:25:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 18:09:03.520 ERROR You recently changed your password. Please, log in again.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-04"}
Error: You recently changed your password. Please, log in again.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:41:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 18:09:46.263 ERROR You recently changed your password. Please, log in again.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-04"}
Error: You recently changed your password. Please, log in again.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:41:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 18:10:47.156 ERROR Incorrect email or password
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Incorrect email or password
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:21:17) 
2019-11-23 18:37:19.209 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-23 18:37:33.339 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-23 18:40:25.349 ERROR next is not defined
{"statusCode":500,"status":"error"}
ReferenceError: next is not defined
    at exports.updateMe (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/userController.js:31:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:49:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 18:40:44.449 ERROR AppError is not a constructor
{"statusCode":500,"status":"error"}
TypeError: AppError is not a constructor
    at exports.updateMe (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/userController.js:32:7)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:49:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 18:42:41.236 ERROR This route is not for password updates. Please, use updateMyPassword endpoint.
{"statusCode":400,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: This route is not for password updates. Please, use updateMyPassword endpoint.
    at exports.updateMe.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/userController.js:31:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:49:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 18:58:31.827 ERROR x is not defined
{"statusCode":500,"status":"error"}
ReferenceError: x is not defined
    at exports.updateMe.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/userController.js:39:58)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:49:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 19:26:04.892 ERROR user is not defined
{"statusCode":500,"status":"error"}
ReferenceError: user is not defined
    at exports.updateMe.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/userController.js:55:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 19:45:39.648 ERROR Your account is inactive.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-02"}
Error: Your account is inactive.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:41:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-23 19:47:09.318 ERROR Your account is inactive.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-02"}
Error: Your account is inactive.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:41:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 08:55:53.520 ERROR toMilliseconds is not a function
{"statusCode":500,"status":"error"}
TypeError: toMilliseconds is not a function
    at createSendToken (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/createSendToken.js:11:20)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:25:3) 
2019-11-24 09:11:11.053 ERROR User validation failed: passwordConfirm: Please, confirm your password.
{"errors":{"passwordConfirm":{"message":"Please, confirm your password.","name":"ValidatorError","properties":{"message":"Please, confirm your password.","type":"required","path":"passwordConfirm"},"kind":"required","path":"passwordConfirm"}},"_message":"User validation failed","message":"User validation failed: passwordConfirm: Please, confirm your password.","name":"ValidationError","statusCode":500,"status":"error"}
ValidationError: User validation failed: passwordConfirm: Please, confirm your password.
    at new ValidationError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/validation.js:31:11)
    at model.Document.invalidate (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2394:32)
    at p.doValidate.skipSchemaValidators (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2243:17)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1058:9
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-24 09:23:40.725 ERROR E11000 duplicate key error collection: natours.users index: email_1 dup key: { : "cool-user@email.com" }
{"driver":true,"name":"MongoError","index":0,"code":11000,"errmsg":"E11000 duplicate key error collection: natours.users index: email_1 dup key: { : \"cool-user@email.com\" }","statusCode":500,"status":"error"}
MongoError: E11000 duplicate key error collection: natours.users index: email_1 dup key: { : "cool-user@email.com" }
    at Function.create (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/error.js:44:12)
    at toError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/utils.js:150:22)
    at coll.s.topology.insert (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/common_functions.js:266:39)
    at handler (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/topology.js:1000:24)
    at wireProtocol.(anonymous function) (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/server.js:457:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/connection/pool.js:408:18
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-24 10:39:32.751 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-24 10:40:56.913 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-24 11:10:48.027 ERROR Cast to string failed for value "{}" at path "email" for model "User"
{"message":"Cast to string failed for value \"{}\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{}\"","kind":"string","value":{},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{}" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:12:22.084 ERROR Cast to string failed for value "{ gt: '' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ gt: '' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ gt: '' }\"","kind":"string","value":{"gt":""},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ gt: '' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:12:44.287 ERROR Cast to string failed for value "{ some: 'thing' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing' }\"","kind":"string","value":{"some":"thing"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:13:08.428 ERROR Cast to string failed for value "{ gt: '', some: 'thing' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ gt: '', some: 'thing' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ gt: '', some: 'thing' }\"","kind":"string","value":{"gt":"","some":"thing"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ gt: '', some: 'thing' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:14:46.944 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:20:47.723 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:21:03.051 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:21:51.160 ERROR Can't use a with String.
{"statusCode":500,"status":"error"}
Error: Can't use a with String.
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:613:13)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1347:17)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:296:39)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38)
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-24 11:28:48.529 ERROR Can't use a with String.
{"statusCode":500,"status":"error"}
Error: Can't use a with String.
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:613:13)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1347:17)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:296:39)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38)
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-24 11:29:43.754 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:37:43.499 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:39:09.332 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:39:39.158 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:47:45.228 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:49:53.860 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 11:54:47.901 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 12:01:16.028 ERROR cool is not defined
{"statusCode":500,"status":"error"}
ReferenceError: cool is not defined
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:55:7
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:18:20
    at Array.forEach (<anonymous>)
    at act (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:16:24)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:20:11
    at Array.forEach (<anonymous>)
    at act (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:16:24)
    at withEach (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:26:3)
    at sanitize (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:51:3)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:78:18
    at Array.forEach (<anonymous>)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:76:33
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12) 
2019-11-24 12:03:08.437 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 12:09:17.826 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 12:10:20.639 ERROR request is not defined
{"statusCode":500,"status":"error"}
ReferenceError: request is not defined
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:68:58
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:18:20
    at Array.forEach (<anonymous>)
    at act (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:16:24)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:20:11
    at Array.forEach (<anonymous>)
    at act (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:16:24)
    at withEach (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:26:3)
    at sanitize (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:51:3)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:94:18
    at Array.forEach (<anonymous>)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:92:33
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12) 
2019-11-24 12:10:50.304 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 12:13:26.526 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 12:20:05.848 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 12:20:58.636 ERROR maliciousInputIdentified is not a function
{"statusCode":500,"status":"error"}
TypeError: maliciousInputIdentified is not a function
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:67:7
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:17:20
    at Array.forEach (<anonymous>)
    at act (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:15:24)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:19:11
    at Array.forEach (<anonymous>)
    at act (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:15:24)
    at withEach (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:25:3)
    at sanitize (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:50:3)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:91:18
    at Array.forEach (<anonymous>)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express-mongo-sanitize/index.js:89:33
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12) 
2019-11-24 12:22:17.160 ERROR Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
{"message":"Cast to string failed for value \"{ some: 'thing', a: 'b' }\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{ some: 'thing', a: 'b' }\"","kind":"string","value":{"some":"thing","a":"b"},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{ some: 'thing', a: 'b' }" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 13:22:11.704 ERROR Cat't find /api/v1/users/login?test=testttt on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/users/login?test=testttt on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:68:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14) 
2019-11-24 13:23:49.606 ERROR Cat't find /api/v1/users/login?test=testttt on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/users/login?test=testttt on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:68:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14) 
2019-11-24 13:24:06.119 ERROR Cat't find /api/v1/users/login on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/users/login on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:68:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14) 
2019-11-24 13:24:27.808 ERROR Cat't find /api/v1/users/login on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/users/login on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:68:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14) 
2019-11-24 13:24:50.317 ERROR Cat't find /api/v1/users/login on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/users/login on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:68:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14) 
2019-11-24 13:26:45.536 ERROR Cat't find /api/v1/users/login on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/users/login on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:68:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14) 
2019-11-24 13:27:20.910 ERROR Cat't find /api/v1/users/login on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/users/login on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:68:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14) 
2019-11-24 13:27:30.147 ERROR Cannot set headers after they are sent to the client
{"statusCode":500,"status":"error"}
Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at ServerResponse.setHeader (_http_outgoing.js:470:11)
    at ServerResponse.header (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/response.js:771:10)
    at ServerResponse.append (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/response.js:732:15)
    at ServerResponse.res.cookie (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/response.js:857:8)
    at createSendToken (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/createSendToken.js:21:7)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:25:3) 
2019-11-24 13:29:49.441 ERROR AppError is not a constructor
{"statusCode":500,"status":"error"}
TypeError: AppError is not a constructor
    at module.exports (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:21:17)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at app.use (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:55:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at serveStatic (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/serve-static/index.js:75:16)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7 
2019-11-24 13:30:14.529 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:21:17)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at app.use (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:55:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at serveStatic (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/serve-static/index.js:75:16)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7 
2019-11-24 13:33:12.612 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:23:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 13:36:21.504 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:31:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 13:36:37.153 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:31:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 13:45:17.927 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:34:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 13:55:07.764 ERROR Cast to string failed for value "{}" at path "email" for model "User"
{"message":"Cast to string failed for value \"{}\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{}\"","kind":"string","value":{},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{}" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 18:50:01.787 ERROR Cast to string failed for value "{}" at path "email" for model "User"
{"message":"Cast to string failed for value \"{}\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{}\"","kind":"string","value":{},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{}" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 18:52:40.956 ERROR Cast to string failed for value "{}" at path "email" for model "User"
{"message":"Cast to string failed for value \"{}\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{}\"","kind":"string","value":{},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{}" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 18:54:37.327 ERROR Cast to string failed for value "{}" at path "email" for model "User"
{"message":"Cast to string failed for value \"{}\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{}\"","kind":"string","value":{},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{}" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 18:59:53.520 ERROR Cast to string failed for value "{}" at path "email" for model "User"
{"message":"Cast to string failed for value \"{}\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{}\"","kind":"string","value":{},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{}" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 19:00:31.512 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:27:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 19:01:07.866 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:27:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 19:01:37.355 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:27:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 19:02:27.810 ERROR Cast to string failed for value "{}" at path "email" for model "User"
{"message":"Cast to string failed for value \"{}\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{}\"","kind":"string","value":{},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{}" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 19:02:31.226 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:27:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 19:30:14.423 ERROR Cast to string failed for value "{}" at path "email" for model "User"
{"message":"Cast to string failed for value \"{}\" at path \"email\" for model \"User\"","name":"CastError","stringValue":"\"{}\"","kind":"string","value":{},"path":"email","statusCode":500,"status":"error"}
CastError: Cast to string failed for value "{}" at path "email" for model "User"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at SchemaString.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:560:11)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:245:16)
    at SchemaString.SchemaType._applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:938:22)
    at SchemaString.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:962:16)
    at SchemaString.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at SchemaString.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/string.js:622:15)
    at SchemaString.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38) 
2019-11-24 19:30:18.445 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:24:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 19:30:27.232 ERROR You are blacklisted!
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: You are blacklisted!
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:24:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-24 19:36:16.743 ERROR E11000 duplicate key error collection: natours.users index: email_1 dup key: { : "cool-user9@email.com" }
{"driver":true,"name":"MongoError","index":0,"code":11000,"errmsg":"E11000 duplicate key error collection: natours.users index: email_1 dup key: { : \"cool-user9@email.com\" }","statusCode":500,"status":"error"}
MongoError: E11000 duplicate key error collection: natours.users index: email_1 dup key: { : "cool-user9@email.com" }
    at Function.create (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/error.js:44:12)
    at toError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/utils.js:150:22)
    at coll.s.topology.insert (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/common_functions.js:266:39)
    at handler (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/topology.js:1000:24)
    at wireProtocol.(anonymous function) (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/server.js:457:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/connection/pool.js:408:18
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-24 19:47:46.091 ERROR this.queryString.sort.split is not a function
{"statusCode":500,"status":"error"}
TypeError: this.queryString.sort.split is not a function
    at APIFeatures.sort (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/apiFeatures.js:48:44)
    at exports.getAllTours.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/tourController.js:34:6)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-25 09:03:35.828 ERROR this.queryString.sort.split is not a function
{"statusCode":500,"status":"error"}
TypeError: this.queryString.sort.split is not a function
    at APIFeatures.sort (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/apiFeatures.js:48:44)
    at exports.getAllTours.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/tourController.js:34:6)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-25 15:55:39.032 ERROR printMinutes is not defined
{"statusCode":500,"status":"error"}
ReferenceError: printMinutes is not defined
    at fromNow (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/models/tourModel.js:98:11)
    at model.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/models/tourModel.js:13:10)
    at VirtualType.applyGetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/virtualtype.js:137:25)
    at model.Document.get (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:1430:19)
    at applyVirtuals (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:3091:20)
    at model.Document.$toObject (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2853:5)
    at model.Document.toJSON (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:3186:15)
    at JSON.stringify (<anonymous>)
    at stringify (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/response.js:1123:12)
    at ServerResponse.json (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/response.js:260:14)
    at exports.getAllTours.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/tourController.js:41:19)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-26 10:00:22.110 ERROR Tour validation failed: name: A tour name must have more or equal than 10 characters
{"errors":{"name":{"message":"A tour name must have more or equal than 10 characters","name":"ValidatorError","properties":{"message":"A tour name must have more or equal than 10 characters","type":"minlength","minlength":10,"path":"name","value":"Test Tour"},"kind":"minlength","path":"name","value":"Test Tour"}},"_message":"Tour validation failed","message":"Tour validation failed: name: A tour name must have more or equal than 10 characters","name":"ValidationError","statusCode":500,"status":"error"}
ValidationError: Tour validation failed: name: A tour name must have more or equal than 10 characters
    at new ValidationError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/validation.js:31:11)
    at model.Document.invalidate (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2394:32)
    at p.doValidate.skipSchemaValidators (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2243:17)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1058:9
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-27 12:23:51.195 ERROR You recently changed your password. Please, log in again.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-04"}
Error: You recently changed your password. Please, log in again.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:49:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-27 12:24:30.777 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-27 12:24:41.590 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-27 12:24:57.677 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-27 12:25:17.868 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-28 19:48:10.799 ERROR Review validation failed: tour: Review must belong to a tour., ratting: Path `ratting` (0) is less than minimum allowed value (1).
{"errors":{"tour":{"message":"Review must belong to a tour.","name":"ValidatorError","properties":{"message":"Review must belong to a tour.","type":"required","path":"tour"},"kind":"required","path":"tour"},"ratting":{"message":"Path `ratting` (0) is less than minimum allowed value (1).","name":"ValidatorError","properties":{"message":"Path `ratting` (0) is less than minimum allowed value (1).","type":"min","min":1,"path":"ratting","value":0},"kind":"min","path":"ratting","value":0}},"_message":"Review validation failed","message":"Review validation failed: tour: Review must belong to a tour., ratting: Path `ratting` (0) is less than minimum allowed value (1).","name":"ValidationError","statusCode":500,"status":"error"}
ValidationError: Review validation failed: tour: Review must belong to a tour., ratting: Path `ratting` (0) is less than minimum allowed value (1).
    at new ValidationError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/validation.js:31:11)
    at model.Document.invalidate (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2394:32)
    at p.doValidate.skipSchemaValidators (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2243:17)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1058:9
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-28 19:48:46.805 ERROR Review validation failed: ratting: Path `ratting` (0) is less than minimum allowed value (1).
{"errors":{"ratting":{"message":"Path `ratting` (0) is less than minimum allowed value (1).","name":"ValidatorError","properties":{"message":"Path `ratting` (0) is less than minimum allowed value (1).","type":"min","min":1,"path":"ratting","value":0},"kind":"min","path":"ratting","value":0}},"_message":"Review validation failed","message":"Review validation failed: ratting: Path `ratting` (0) is less than minimum allowed value (1).","name":"ValidationError","statusCode":500,"status":"error"}
ValidationError: Review validation failed: ratting: Path `ratting` (0) is less than minimum allowed value (1).
    at new ValidationError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/validation.js:31:11)
    at model.Document.invalidate (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2394:32)
    at p.doValidate.skipSchemaValidators (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2243:17)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1058:9
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-28 19:54:00.858 ERROR Review.create(...).populate is not a function
{"statusCode":500,"status":"error"}
TypeError: Review.create(...).populate is not a function
    at exports.createReview.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/reviewController.js:20:51)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7 
2019-11-28 19:55:45.748 ERROR E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : "4Some review bla blabla" }
{"driver":true,"name":"MongoError","index":0,"code":11000,"errmsg":"E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : \"4Some review bla blabla\" }","statusCode":500,"status":"error"}
MongoError: E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : "4Some review bla blabla" }
    at Function.create (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/error.js:44:12)
    at toError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/utils.js:150:22)
    at coll.s.topology.insert (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/common_functions.js:266:39)
    at handler (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/topology.js:1000:24)
    at wireProtocol.(anonymous function) (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/server.js:457:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/connection/pool.js:408:18
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-28 19:56:07.924 ERROR E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : "4Some review bla blabla" }
{"driver":true,"name":"MongoError","index":0,"code":11000,"errmsg":"E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : \"4Some review bla blabla\" }","statusCode":500,"status":"error"}
MongoError: E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : "4Some review bla blabla" }
    at Function.create (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/error.js:44:12)
    at toError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/utils.js:150:22)
    at coll.s.topology.insert (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/common_functions.js:266:39)
    at handler (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/topology.js:1000:24)
    at wireProtocol.(anonymous function) (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/server.js:457:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/connection/pool.js:408:18
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-28 19:56:25.773 ERROR E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : "4Some review bla blabla" }
{"driver":true,"name":"MongoError","index":0,"code":11000,"errmsg":"E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : \"4Some review bla blabla\" }","statusCode":500,"status":"error"}
MongoError: E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : "4Some review bla blabla" }
    at Function.create (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/error.js:44:12)
    at toError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/utils.js:150:22)
    at coll.s.topology.insert (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/common_functions.js:266:39)
    at handler (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/topology.js:1000:24)
    at wireProtocol.(anonymous function) (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/server.js:457:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/connection/pool.js:408:18
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-28 19:57:00.556 ERROR E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : "4Some review bla blabla" }
{"driver":true,"name":"MongoError","index":0,"code":11000,"errmsg":"E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : \"4Some review bla blabla\" }","statusCode":500,"status":"error"}
MongoError: E11000 duplicate key error collection: natours.reviews index: review_1 dup key: { : "4Some review bla blabla" }
    at Function.create (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/error.js:44:12)
    at toError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/utils.js:150:22)
    at coll.s.topology.insert (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/common_functions.js:266:39)
    at handler (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/topology.js:1000:24)
    at wireProtocol.(anonymous function) (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/server.js:457:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/connection/pool.js:408:18
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-29 13:20:19.972 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-29 13:21:01.754 ERROR Incorrect email or password
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Incorrect email or password
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:21:17) 
2019-11-29 13:21:08.305 ERROR Incorrect email or password
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Incorrect email or password
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:21:17) 
2019-11-29 13:21:17.064 ERROR Incorrect email or password
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Incorrect email or password
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:21:17) 
2019-11-29 13:31:03.807 ERROR reviews is not defined
{"statusCode":500,"status":"error"}
ReferenceError: reviews is not defined
    at exports.getAllReviews.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/reviewController.js:14:14)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-29 13:55:51.220 ERROR Tour with ID 5ddeb203b6b341155254bd1f was not found.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Tour with ID 5ddeb203b6b341155254bd1f was not found.
    at tourNotFoundError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/tourController.js:9:3)
    at exports.getTour.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/tourController.js:52:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-29 14:22:48.693 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-29 14:23:11.486 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 11:41:16.980 ERROR Wrong ID value. ID 5c88fa8cf4afda39709c296y is in a wrong format.
{"statusCode":400,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Wrong ID value. ID 5c88fa8cf4afda39709c296y is in a wrong format.
    at exports.validateId (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/tourController.js:15:7)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:20:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 11:41:34.558 ERROR Variable with ID 5c88fa8cf4afdb39709c296c was not found.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Variable with ID 5c88fa8cf4afdb39709c296c was not found.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/handlerFactory.js:8:9)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 11:43:09.107 ERROR Model with ID 5c88fa8cf4afdb39709c296c was not found.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Model with ID 5c88fa8cf4afdb39709c296c was not found.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/handlerFactory.js:8:9)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 11:45:03.262 ERROR Model with ID 5c88fa8cf4afdb39709c296c was not found.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Model with ID 5c88fa8cf4afdb39709c296c was not found.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/handlerFactory.js:9:9)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 11:50:56.201 ERROR Tour with ID 5c88fa8cf4afdb39709c296c was not found.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Tour with ID 5c88fa8cf4afdb39709c296c was not found.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/handlerFactory.js:9:9)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 11:56:05.119 ERROR Cat't find /api/v1/reviews/5de062e8b03c327dcf401b75 on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/reviews/5de062e8b03c327dcf401b75 on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:82:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:354:14)
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:365:14)
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:410:3)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:635:15 
2019-11-30 11:57:35.214 ERROR Cat't find /api/v1/reviews/5de062e8b03c327dcf401b75 on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/reviews/5de062e8b03c327dcf401b75 on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:82:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:354:14)
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:365:14)
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:410:3)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:635:15 
2019-11-30 11:57:51.061 ERROR Cat't find /api/v1/reviews/5de062e8b03c327dcf401b75 on this server.
{"statusCode":404,"status":"fail","isOperational":true,"errorCode":"A-01"}
Error: Cat't find /api/v1/reviews/5de062e8b03c327dcf401b75 on this server.
    at app.all (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:82:5)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:354:14)
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:365:14)
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:410:3)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:635:15 
2019-11-30 17:04:53.276 ERROR Server selection timed out after 30000 ms
{"name":"MongoTimeoutError","reason":{"name":"MongoNetworkError","errorLabels":["TransientTransactionError"]},"statusCode":500,"status":"error"}
MongoTimeoutError: Server selection timed out after 30000 ms
    at Timeout.setTimeout [as _onTimeout] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/topology.js:878:9)
    at ontimeout (timers.js:436:11)
    at tryOnTimeout (timers.js:300:5)
    at listOnTimeout (timers.js:263:5)
    at Timer.processTimers (timers.js:223:10) 
2019-11-30 17:05:35.831 ERROR querySrv ENODATA _mongodb._tcp.cluster0-6kcye.mongodb.net
{"errno":"ENODATA","code":"ENODATA","syscall":"querySrv","hostname":"_mongodb._tcp.cluster0-6kcye.mongodb.net"}
Error: querySrv ENODATA _mongodb._tcp.cluster0-6kcye.mongodb.net
    at QueryReqWrap.onresolve [as oncomplete] (dns.js:196:19) 
2019-11-30 17:05:56.458 ERROR querySrv ENODATA _mongodb._tcp.cluster0-6kcye.mongodb.net
{"errno":"ENODATA","code":"ENODATA","syscall":"querySrv","hostname":"_mongodb._tcp.cluster0-6kcye.mongodb.net"}
Error: querySrv ENODATA _mongodb._tcp.cluster0-6kcye.mongodb.net
    at QueryReqWrap.onresolve [as oncomplete] (dns.js:196:19) 
2019-11-30 17:06:02.658 ERROR querySrv ENODATA _mongodb._tcp.cluster0-6kcye.mongodb.net
{"errno":"ENODATA","code":"ENODATA","syscall":"querySrv","hostname":"_mongodb._tcp.cluster0-6kcye.mongodb.net"}
Error: querySrv ENODATA _mongodb._tcp.cluster0-6kcye.mongodb.net
    at QueryReqWrap.onresolve [as oncomplete] (dns.js:196:19) 
2019-11-30 17:09:36.241 ERROR querySrv ENODATA _mongodb._tcp.cluster0-6kcye.mongodb.net
{"errno":"ENODATA","code":"ENODATA","syscall":"querySrv","hostname":"_mongodb._tcp.cluster0-6kcye.mongodb.net"}
Error: querySrv ENODATA _mongodb._tcp.cluster0-6kcye.mongodb.net
    at QueryReqWrap.onresolve [as oncomplete] (dns.js:196:19) 
2019-11-30 17:26:02.211 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:37:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 17:26:53.968 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:37:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 17:27:23.268 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:37:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 17:33:16.082 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:37:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 17:41:13.388 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 17:41:38.940 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 17:41:50.458 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 17:43:52.614 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 18:17:49.764 ERROR Please provide email and password
{"statusCode":400,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Please provide email and password
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:12:17)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-30 18:18:47.195 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 18:20:59.023 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:354:14)
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:365:14)
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:410:3)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5) 
2019-11-30 18:21:16.056 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:354:14)
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:365:14)
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:410:3)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5) 
2019-11-30 18:22:11.972 ERROR jwt malformed
{"name":"JsonWebTokenError","message":"jwt malformed","statusCode":500,"status":"error"}
JsonWebTokenError: jwt malformed
    at module.exports (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/jsonwebtoken/verify.js:63:17)
    at Promise (internal/util.js:274:30)
    at new Promise (<anonymous>)
    at internal/util.js:273:12
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:28:46)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:131:14)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:354:14)
    at param (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:365:14)
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:410:3) 
2019-11-30 18:22:34.221 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 18:23:06.228 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 18:42:03.414 ERROR Unexpected token } in JSON at position 24
{"expose":true,"statusCode":400,"status":400,"body":"{\n\t\"name\": \"cool user\",\n}","type":"entity.parse.failed"}
SyntaxError: Unexpected token } in JSON at position 24
    at JSON.parse (<anonymous>)
    at parse (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/body-parser/lib/types/json.js:89:19)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/body-parser/lib/read.js:121:18
    at invokeCallback (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/raw-body/index.js:224:16)
    at done (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/raw-body/index.js:213:7)
    at IncomingMessage.onEnd (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/raw-body/index.js:273:7)
    at IncomingMessage.emit (events.js:203:15)
    at endReadableNT (_stream_readable.js:1129:12)
    at process._tickCallback (internal/process/next_tick.js:63:19) 
2019-11-30 18:42:11.491 ERROR Model.findByIdAndUpdate is not a function
{"statusCode":500,"status":"error"}
TypeError: Model.findByIdAndUpdate is not a function
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/handlerFactory.js:37:29)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:20:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 18:43:24.377 ERROR Please provide email and password
{"statusCode":400,"status":"fail","isOperational":true,"errorCode":"0000"}
Error: Please provide email and password
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/login.js:12:17)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10) 
2019-11-30 18:44:07.036 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 19:14:22.127 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:13:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 19:27:58.226 ERROR Cannot read property '_id' of undefined
{"statusCode":500,"status":"error"}
TypeError: Cannot read property '_id' of undefined
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/handlerFactory.js:39:20)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 19:37:44.170 ERROR Cast to ObjectId failed for value "{ _id: { '$eq': '5de305bd8ceef352fb661c9a' } }" at path "user" for model "Review"
{"message":"Cast to ObjectId failed for value \"{ _id: { '$eq': '5de305bd8ceef352fb661c9a' } }\" at path \"user\" for model \"Review\"","name":"CastError","stringValue":"\"{ _id: { '$eq': '5de305bd8ceef352fb661c9a' } }\"","kind":"ObjectId","value":{"_id":{"$eq":"5de305bd8ceef352fb661c9a"}},"path":"user","statusCode":500,"status":"error"}
CastError: Cast to ObjectId failed for value "{ _id: { '$eq': '5de305bd8ceef352fb661c9a' } }" at path "user" for model "Review"
    at new CastError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/cast.js:29:11)
    at ObjectId.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schema/objectid.js:246:11)
    at ObjectId.SchemaType.applySetters (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:969:12)
    at ObjectId.SchemaType._castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1383:15)
    at ObjectId.SchemaType.castForQuery (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1373:15)
    at ObjectId.SchemaType.castForQueryWrapper (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1352:15)
    at cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/cast.js:260:34)
    at model.Query.Query.cast (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:4644:12)
    at model.Query.Query._castConditions (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:1842:10)
    at model.Query.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/query.js:2097:8)
    at model.Query._wrappedThunk [as _findOne] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:278:20
    at _next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:102:16)
    at process.nextTick (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:507:38)
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-30 20:01:22.335 ERROR req.user.id.equals is not a function
{"statusCode":500,"status":"error"}
TypeError: req.user.id.equals is not a function
    at exports.updateReview.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/reviewController.js:41:20)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 20:02:36.955 ERROR Only the creator of this review can modify it.
{"statusCode":500,"status":"error","isOperational":true,"errorCode":"0000"}
Error: Only the creator of this review can modify it.
    at exports.updateReview.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/reviewController.js:42:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 20:08:40.424 ERROR Model.findByIdAndUpdate is not a function
{"statusCode":500,"status":"error"}
TypeError: Model.findByIdAndUpdate is not a function
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/handlerFactory.js:36:27)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:20:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-11-30 20:09:13.285 ERROR Validation failed: password: Path `password` (`fun`) is shorter than the minimum allowed length (8).
{"errors":{"password":{"message":"Path `password` (`fun`) is shorter than the minimum allowed length (8).","name":"ValidatorError","properties":{"message":"Path `password` (`fun`) is shorter than the minimum allowed length (8).","type":"minlength","minlength":8,"path":"password","value":"fun"},"kind":"minlength","path":"password","value":"fun"}},"_message":"Validation failed","message":"Validation failed: password: Path `password` (`fun`) is shorter than the minimum allowed length (8).","name":"ValidationError","statusCode":500,"status":"error"}
ValidationError: Validation failed: password: Path `password` (`fun`) is shorter than the minimum allowed length (8).
    at new ValidationError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/validation.js:31:11)
    at _done (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/updateValidators.js:243:19)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/updateValidators.js:219:11
    at schemaPath.doValidate.updateValidator (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/helpers/updateValidators.js:160:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1058:9
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-30 20:27:30.576 ERROR Review validation failed: rating: Path `rating` (22) is more than maximum allowed value (5).
{"errors":{"rating":{"message":"Path `rating` (22) is more than maximum allowed value (5).","name":"ValidatorError","properties":{"message":"Path `rating` (22) is more than maximum allowed value (5).","type":"max","max":5,"path":"rating","value":22},"kind":"max","path":"rating","value":22}},"_message":"Review validation failed","message":"Review validation failed: rating: Path `rating` (22) is more than maximum allowed value (5).","name":"ValidationError","statusCode":500,"status":"error"}
ValidationError: Review validation failed: rating: Path `rating` (22) is more than maximum allowed value (5).
    at new ValidationError (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/error/validation.js:31:11)
    at model.Document.invalidate (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2394:32)
    at p.doValidate.skipSchemaValidators (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/document.js:2243:17)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/schematype.js:1058:9
    at process._tickCallback (internal/process/next_tick.js:61:11) 
2019-11-30 20:27:56.181 ERROR Only the creator of this review can modify it.
{"statusCode":500,"status":"error","isOperational":true,"errorCode":"0000"}
Error: Only the creator of this review can modify it.
    at exports.updateReview.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/reviewController.js:49:17)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-02 21:09:45.951 ERROR APIFeatures is not a constructor
{"statusCode":500,"status":"error"}
TypeError: APIFeatures is not a constructor
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/handlerFactory.js:78:22)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-02 21:10:50.634 ERROR APIFeatures is not a constructor
{"statusCode":500,"status":"error"}
TypeError: APIFeatures is not a constructor
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/handlerFactory.js:78:22)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-03 09:19:48.113 ERROR app is not defined
{"statusCode":500,"status":"error"}
ReferenceError: app is not defined
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:17:42)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at app.use (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:66:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at SendStream.error (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/serve-static/index.js:121:7)
    at SendStream.emit (events.js:198:13)
    at SendStream.error (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/send/index.js:270:17) 
2019-12-03 09:26:15.815 ERROR next is not a function
{}
TypeError: next is not a function
    at fn.catch.err (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:37) 
2019-12-03 09:27:17.116 ERROR Cannot read property 'settings' of undefined
{"statusCode":500,"status":"error"}
TypeError: Cannot read property 'settings' of undefined
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:17:46)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at app.use (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:78:29)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at app.use (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:67:3)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at SendStream.error (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/serve-static/index.js:121:7)
    at SendStream.emit (events.js:198:13) 
2019-12-03 09:28:47.640 ERROR Cannot read property 'settings' of undefined
{"statusCode":500,"status":"error"}
TypeError: Cannot read property 'settings' of undefined
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:17:46)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at app.use (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:80:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-03 09:29:23.023 ERROR Cannot read property 'configs' of undefined
{}
TypeError: Cannot read property 'configs' of undefined
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:78:56
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-03 09:29:45.428 ERROR Cannot read property 'settings' of undefined
{"statusCode":500,"status":"error"}
TypeError: Cannot read property 'settings' of undefined
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:17:46)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:80:3
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-03 09:31:45.780 ERROR Cannot read property 'settings' of undefined
{"statusCode":500,"status":"error"}
TypeError: Cannot read property 'settings' of undefined
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:17:46)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/app.js:80:3
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-04 20:01:09.646 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:25:3)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5 
2019-12-04 20:01:34.269 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:25:3)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5 
2019-12-04 20:02:56.512 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-04 20:03:03.560 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-04 20:03:44.316 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-04 20:06:02.496 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-04 20:06:09.602 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-04 20:11:11.520 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-04 20:11:45.600 ERROR You do not have a permission to perform this action.
{"statusCode":403,"status":"fail","isOperational":true,"errorCode":"RT-01"}
Error: You do not have a permission to perform this action.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/restrictTo.js:12:9)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/route.js:137:13)
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:62:3)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-05 07:50:28.742 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:37:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-05 19:01:29.735 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:37:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-05 19:01:44.395 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:37:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-05 19:01:56.267 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:37:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-05 19:02:29.398 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:37:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-05 19:03:43.403 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:39:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-05 19:05:17.688 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:25:3)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5 
2019-12-05 19:05:22.759 ERROR You are not logged in. Please, login to get access.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-03"}
Error: You are not logged in. Please, login to get access.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:19:7)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:317:13)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/express/lib/router/index.js:275:10)
    at module.exports.catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/blockBlacklistedIps.js:25:3)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/utils/catchAsync.js:3:5 
2019-12-05 19:10:33.028 ERROR You do not have an account. Please, sign up.
{"statusCode":401,"status":"fail","isOperational":true,"errorCode":"AC-01"}
Error: You do not have an account. Please, sign up.
    at catchAsync (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/controllers/authController/protectRoute.js:37:7)
    at process._tickCallback (internal/process/next_tick.js:68:7) 
2019-12-05 19:18:20.082 ERROR next is not a function
{"statusCode":500,"status":"error"}
TypeError: next is not a function
    at model.<anonymous> (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/models/reviewModel.js:50:3)
    at next (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:198:31)
    at Kareem.execPost (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:217:3)
    at _cb (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/kareem/index.js:307:15)
    at $__handleSave (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/model.js:381:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongoose/lib/model.js:270:7
    at result (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/execute_operation.js:75:17)
    at session.endSession (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/execute_operation.js:64:11)
    at ClientSession.endSession (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sessions.js:135:41)
    at executeCallback (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/execute_operation.js:59:17)
    at insertDocuments (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/insert_one.js:34:21)
    at handleCallback (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/utils.js:129:55)
    at coll.s.topology.insert (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/operations/common_functions.js:270:5)
    at handler (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/topology.js:1000:24)
    at wireProtocol.(anonymous function) (/Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/sdam/server.js:457:5)
    at /Users/abdulaliyev/tut/node/jonas/complete-node-bootcamp/4-natours/starter/node_modules/mongodb/lib/core/connection/pool.js:408:18 
